<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>解説ページ</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
		<script type="text/javascript" th:src="@{js/Diagnose.js}"></script>
		<link rel="stylesheet" th:href="@{../css/Questioner/explain.css}">
	</head>
	<body style="background-image: url(background.jpg); background-size: auto 800px;">
		<h1 class="title">解説ページ</h1>
		
		<form th:action="@{/ending}" method="get" th:object="${choiceEntity}">
			<input type="submit" value="トップページへ" formaction="/QuestionTop" formmethod="get" class="expl-button-top"/>
			<input type="submit" value="選択肢編集へ" formaction="/ChoiceEdit" formmethod="post" name="situation" class="expl-button-choice"/>
			<input type="submit" value="エンディングページへ" name="process" class="expl-button-ending"/>
			<input type="submit" value="保存" formaction="/save3" formmethod="post" class="expl-button-save	"/><br>	
			
			<p class="explanation">※ 「トップページへ」ボタンを押すと編集中のデータが消えてしまいますので、ご注意ください。</p>
			<p th:if="${error5}" th:text="${error5}">エラーメッセージ</p>
			<p th:if="${error6}" th:text="${error6}">エラーメッセージ2</p>
			<p th:if="${message}" th:text="${message}">DB操作メッセージ</p>
			
			<p id="inputlength14">解説 入力文字数：0文字/30</p>
			<!-- textareaはCSSでcols, rowsを設定したほうがいい styleはCSSファイル作成後消去-->
			<div class="ta-layout">
				<div th:if="${choice.equals('解説ページへ')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer1}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢1')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer1}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢2')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer2}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢3')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer3}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢4')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer4}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢5')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer5}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢6')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer6}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢7')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer7}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢8')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer8}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢9')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer9}"></textarea>
				</div>
				<div th:if="${choice.equals('選択肢10')}">
					<textarea rows="10" cols="80" onkeyup="ShowLength14(value);" style="font-size: 15pt" th:field="*{answer10}"></textarea>
				</div>
			</div>
			
			<label class="process-button-picture3">ファイルを選択
				<input type="file" name="file3" accept="image/jpeg" class="process-button-picture2"/>
			</label>
			<p id="choice">選択されていません</p>
			<script>
				$('input').on('change', function () {
				    var file = $(this).prop('files')[0];
				    $(choice).text(file.name);
				});
			</script>
			<input type="submit" value="イラスト挿入" formaction="/upload3" formmethod="post" formenctype="multipart/form-data" class="process-button"/>
			<input type="submit" value="イラスト削除" formaction="/uploadDelete3" formmethod="get" class="process-button"/>
			
			<!-- イラスト1表示 -->
			<p th:if="*{apFlag1} == false">
				<img src="/images/picture21.jpg">
			</p>
			<p th:if="*{apFlag2} == false">
				<img src="/images/picture22.jpg">
			</p>
			<p th:if="*{apFlag3} == false">
				<img src="/images/picture23.jpg">
			</p>
			<p th:if="*{apFlag4} == false">
				<img src="/images/picture24.jpg">
			</p>
			<p th:if="*{apFlag5} == false">
				<img src="/images/picture25.jpg">
			</p>
			<p th:if="*{apFlag6} == false">
				<img src="/images/picture26.jpg">
			</p>
			<p th:if="*{apFlag7} == false">
				<img src="/images/picture27.jpg">
			</p>
			<p th:if="*{apFlag8} == false">
				<img src="/images/picture28.jpg">
			</p>
			<p th:if="*{apFlag9} == false">
				<img src="/images/picture29.jpg">
			</p>
			<p th:if="*{apFlag10} == false">
				<img src="/images/picture30.jpg">
			</p>
		</form>
	</body>
</html>